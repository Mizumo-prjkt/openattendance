<!DOCTYPE html>
<html lang="en" class="has-navbar-fixed-top">
    <head>
        <title>Manage Excuses</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" >
        <link rel="stylesheet" href="/shared/css/fontstyle.css">
        <link rel="stylesheet" href="/shared/css/font-thme.css">
        <link rel="stylesheet" href="/node/bulma/css/bulma.min.css">
        <link rel="stylesheet" href="/node/@fortawesome/fontawesome-free/css/all.min.css">
        <link rel="stylesheet" href="/node/bulma-steps/dist/css/bulma-steps.min.css">
        <link rel="stylesheet" href="/admin/assets/css/panel.css">
        <link rel="stylesheet" href="/admin/assets/css/main-elem.css">
    </head>
    <body>
        <!-- Navbar will be injected here -->
        <div id="navbar-placeholder"></div>

        <div class="columns is-gapless">
            <!-- Sidebar -->
            <div class="column is-2 is-hidden-touch" id="sidebar-placeholder">
                <!-- Sidebar will be injected here -->
            </div>

            <!-- Main Content -->
            <main class="column is-10 p-5">
                <div class="container is-fluid" id="mainpst">
                    <h1 class="title">Manage Excuse Requests</h1>
                    <h2 class="subtitle">Review and process student excuse submissions.</h2>

                    <div class="tabs is-boxed">
                        <ul>
                            <li class="is-active" data-tab="pending"><a><span class="icon is-small"><i class="fas fa-hourglass-half"></i></span><span>Pending</span></a></li>
                            <li data-tab="approved"><a><span class="icon is-small"><i class="fas fa-check-circle"></i></span><span>Approved</span></a></li>
                            <li data-tab="rejected"><a><span class="icon is-small"><i class="fas fa-times-circle"></i></span><span>Rejected</span></a></li>
                        </ul>
                    </div>

                    <!-- Tab Content -->
                    <div id="tab-content">
                        <!-- Pending Tab -->
                        <div class="tab-pane is-active" id="pending">
                            <div class="table-container">
                                <table class="table is-fullwidth is-striped is-hoverable">
                                    <thead><tr><th>Student</th><th>Date Submitted</th><th>Reason</th><th>Actions</th></tr></thead>
                                    <tbody id="pending-table-body">
                                        <!-- Mockup Data -->
                                        <tr>
                                            <td>Maria Clara (2023-0001)</td>
                                            <td>2025-11-27 09:15 AM</td>
                                            <td>Medical appointment for a check-up...</td>
                                            <td>
                                                <button class="button is-small is-success">Approve</button>
                                                <button class="button is-small is-danger">Reject</button>
                                                <button class="button is-small is-info">View</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- Approved Tab -->
                        <div class="tab-pane" id="approved" style="display: none;">
                            <div class="table-container">
                                <table class="table is-fullwidth is-striped is-hoverable">
                                    <thead><tr><th>Student</th><th>Date Submitted</th><th>Date Approved</th><th>Processed By</th><th>Actions</th></tr></thead>
                                    <tbody id="approved-table-body">
                                        <!-- Mockup Data -->
                                        <tr>
                                            <td>Simoun (2023-0002)</td>
                                            <td>2025-11-26 10:00 AM</td>
                                            <td>2025-11-26 11:30 AM</td>
                                            <td>Prof. Rizal</td>
                                            <td><button class="button is-small is-info">View</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- Rejected Tab -->
                        <div class="tab-pane" id="rejected" style="display: none;">
                            <div class="table-container">
                                <table class="table is-fullwidth is-striped is-hoverable">
                                    <thead><tr><th>Student</th><th>Date Submitted</th><th>Date Rejected</th><th>Processed By</th><th>Actions</th></tr></thead>
                                    <tbody id="rejected-table-body">
                                        <!-- Mockup Data -->
                                        <tr>
                                            <td>Crisostomo Ibarra (2023-0003)</td>
                                            <td>2025-11-25 02:00 PM</td>
                                            <td>2025-11-25 03:00 PM</td>
                                            <td>Admin</td>
                                            <td><button class="button is-small is-info">View</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Excuse Detail Modal -->
        <div class="modal" id="excuse-detail-modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Excuse Request Details</p>
                    <button class="delete" aria-label="close"></button>
                </header>
                <section class="modal-card-body">
                    <div class="content">
                        <div class="steps" id="excuse-steps">
                            <ul>
                                <li class="step-item is-active">
                                    <div class="step-marker">1</div>
                                    <div class="step-details"><div class="step-title">Submitted</div></div>
                                </li>
                                <li class="step-item"><div class="step-marker">2</div><div class="step-details"><div class="step-title">Review</div></div></li>
                                <li class="step-item"><div class="step-marker">3</div><div class="step-details"><div class="step-title">Verdict</div></div></li>
                            </ul>
                        </div>
                        <hr>
                        <p><strong>Student:</strong> <span id="detail-student-name"></span></p>
                        <p><strong>Student ID:</strong> <span id="detail-student-id"></span></p>
                        <p><strong>Date Submitted:</strong> <span id="detail-request-date"></span></p>
                        <hr>
                        <p><strong>Reason Provided:</strong></p>
                        <div class="box has-background-light"><p id="detail-reason"></p></div>
                        <div id="verdict-details" class="is-hidden">
                            <hr>
                            <p><strong>Verdict:</strong> <span id="detail-verdict-status"></span> by <span id="detail-processed-by"></span> on <span id="detail-verdict-date"></span></p>
                            <p><strong>Processed By:</strong> <span id="detail-processed-by"></span></p>
                            <p><strong>Date Processed:</strong> <span id="detail-verdict-date"></span></p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </body>
    <script src="/admin/assets/js/components.js"></script>
    <script src="/admin/assets/js/excuses.js"></script>
    <script src="/node/bulma-steps/dist/js/bulma-steps.min.js"></script>
</html>
